<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .box {
            width: 500px;
            height: 500px;
        }
    </style>
</head>
<body>
    <button>Let's dance</button>
    <div class="box"></div>

    <script>
        // 해당 코드가 제대로 동작하지 않는 이유
        // translateX를 얼마나 만들던지 상관없이 결국 렌더링이 발생할 때는 
        // 최종적으로 적용된 것만 적용됨
        // 콜백이 수행되는 동안에는 브라우저에서 변경된 사항이 보여지지 않기 때문에, 
        // 값이 적용될 때까지 기다렸다가(브라우저에 업데이트가 되지 않았다가) 콜백이 끝나면 렌더링으로 가서
        // 최종적으로 업데이트된 아이들을 기준으로 렌더트리가 만들어지면서 레이아웃이 발생하고 페인트를 통해 브라우저에 표기

        // 콜백 안에서 아무리 DOM 요소를 조작해서 업데이트하더라도 브라우저에는 변경된 사항이 바로바로 보여지지 X
        const button = document.querySelector('button');
        const box = document.querySelector('.box');

        button.addEventListener('click', () => {
            box.style.transition = 'transform 1s ease-in';
            box.style.transform = 'translateX(800px)';
            box.style.transform = 'translateX(500px)';
            box.style.backgroundColor = 'blue';
            box.style.backgroundColor = 'orange';
            box.style.backgroundColor = 'yellow';
        })
    </script>
</body>
</html>